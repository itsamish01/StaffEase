Database 

const user = new Schema(
  {
    username: {
      type: String,
      required: true,
      unique: true,
    },
    email: {
      type: String,
      required: true,
      unique: true,
      match: [/.+@.+\..+/, 'Must use a valid email address'],
    },
    password: {
      type: String,
      required: true,
    },
    role:{
        type:string
        required:true,
        unique:false,
    }
  },
  // set this to use virtual below
  {
    toJSON: {
      virtuals: true,
    },
  }
);

Business

const Business = new Schema(
  {
    businessName: {
      type: String,
      required: true,
      unique: true,
    },
    description: {
      type: String,
      required: true,
      unique: false,
    },
    location: {
      type: String,
      required: true,
    },
    contact:{
        type:String,
        required:true,
        unique:true
    }
    currentCapcacity:{
        type:INT,
        required:true,
    }
    maxCapacity:{
        type:INT,
        required:true,
    }
    employees:[Employee]
  },
  customers:[Customer]
  // set this to use virtual below
  {
    toJSON: {
      virtuals: true,
    },
  }
);




const Employee = new Schema(
  {
    Users:[User],
    clocked:{
        type:boolean,
        required:true
    }
  },
  // set this to use virtual below
  {
    toJSON: {
      virtuals: true,
    },
  }
);

const CustomerSchema = new Schema(
  {
    FirstName: {
      type: String,
      required: true,
      unique: true,
    },
    LastName: {
      type: String,
      required: true,
      unique: true,
    },
    rating: {
      type: String,
      required: true,
      unique: false,
    },
    comment: {
      type: String,
      required: true,
      unique: true,
    },
  },
  // set this to use virtual below
  {
    toJSON: {
      virtuals: true,
      timestamp:true
    },
  }
);
